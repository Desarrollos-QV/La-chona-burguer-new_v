{"version":3,"file":"src_app_item_item_module_ts.js","mappings":"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","sources":["./src/app/item/item.module.ts","./src/app/item/item.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ItemPage } from './item.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ItemPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ItemPage]\n})\nexport class ItemPageModule {}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ScrollDetail } from '@ionic/core';\nimport { ModalController, IonContent, Platform, NavController, IonToolbar } from '@ionic/angular';\nimport { ToastController } from '@ionic/angular';\nimport { ServerService } from '../service/server.service';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\nimport { ActivatedRoute, NavigationExtras } from '@angular/router';\n\n@Component({\n  selector: 'app-item',\n  templateUrl: './item.page.html',\n  styleUrls: ['./item.page.scss'],\n})\nexport class ItemPage implements OnInit {\n  @ViewChild(IonContent, {static: false}) Content: IonContent;\n\n  data:any;\n  veg = false;\n  cart_no:any;\n  count:any;\n  order:any;\n  text:any;\n  cart:any = [];\n  showToolbar = false;\n  isOpen: any;\n  BannerOption = {\n    initialSlide: 0,\n    slidesPerView: 3.3,\n    loop: false,\n    centeredSlides: false,\n    autoplay:false,\n    spaceBetween:7,\n  }\n\n  constructor(\n    public modalController: ModalController,\n    public toastController: ToastController,\n    public server : ServerService,\n    private statusBar: StatusBar,\n    public platform: Platform,\n    public nav: NavController,\n    public route: ActivatedRoute\n  ) \n  { \n    this.text = JSON.parse(localStorage.getItem('app_text'));\n    this.route.queryParams.subscribe( params => {\n      if (params.id) {\n        var lid = localStorage.getItem('lid') ? localStorage.getItem('lid') : 0;\n        var lat = localStorage.getItem(\"current_lat\") ? localStorage.getItem(\"current_lat\") : 0;\n        var lng = localStorage.getItem(\"current_lng\") ? localStorage.getItem(\"current_lng\") : 0;\n\n        this.server.getStore(params.id+\"?lid=\"+lid+\"&lat=\"+lat+\"&lng=\"+lng).subscribe((data:any) => {\n            if (data.data) {\n              console.log(data);\n              this.data = data.data[0];\n              // Order Sort_no\n              this.data.items.sort((a,b) => {\n                return parseFloat(a.sort_no) - parseFloat(b.sort_no);\n              });\n              \n            }else {\n              this.nav.navigateRoot('home');\n            }\n        });\n      }else {\n        this.nav.navigateRoot('home');\n      }\n    }); \n  }\n\n  ngOnInit() {\n   \n  }\n\n\n  ionViewWillEnter()\n  {\n    if(localStorage.getItem('cart_no') == 'null' || localStorage.getItem('cart_no') == undefined)\n    {\n      this.cart_no = Math.floor(Math.random()*2000000000)+1;\n\n      localStorage.setItem('cart_no',this.cart_no);\n    }\n    else\n    {\n      this.cart_no = localStorage.getItem('cart_no');\n    }\n\n    this.server.cartCount(this.cart_no).subscribe((response:any) => {\n      \n      this.count = response.data;\n      this.cart  = response.cart;\n     });\n  }\n\n  vegOnly()\n  {\n  \tthis.veg = this.veg == true ? false : true;\n  }\n\n  async showOption(item,currency) {\n    this.isOpen = true;\n\n    let navigationExtras: NavigationExtras = {\n      queryParams: {\n        item: JSON.stringify(item),\n        cart: this.cart,\n        currency : currency\n      }\n    };\n\n    this.nav.navigateForward(['/option'], navigationExtras);\n  }\n\n  async viewInfoStore() \n  {\n    let navigationExtras: NavigationExtras = {\n      queryParams: {\n        id: this.data.id\n      }\n    };\n\n    this.nav.navigateForward(['/info'], navigationExtras);\n  }\n\n  addToCart(id,price,type = 0,qty,addon = [])\n  {\n      this.presentToast(\"Elemento Agregado.\");\n      var allData = {\n       cart_no : this.cart_no,\n       id : id,\n       price : price,\n       qtype : type,\n       type:0,\n       qty: qty,\n       addon : addon,\n       price_comm: this.data.c_value\n      };\n     this.server.addToCart(allData).subscribe((response:any) => {\n        this.count = response.data.count;\n        this.cart  = response.data.cart;\n     });\n  }\n\n  async presentToast(txt) {\n    const toast = await this.toastController.create({\n      message: txt,\n      duration: 2000,\n      position : 'top'\n    });\n    toast.present();\n  }\n\n  hasCart(id)\n  {\n    for(var i =0;i<this.cart.length;i++)\n    {\n      if(this.cart[i].item_id == id)\n      {\n        return this.cart[i].qty;\n      }\n    }\n\n    return false;\n  }\n\n  async updateCart(id,type = 0)\n  {\n    this.presentToast(\"Removed Successfully\");\n    this.server.updateCart(id,type+\"?cart_no=\"+this.cart_no+\"&lid=\"+localStorage.getItem('lid')).subscribe((response:any) => {\n    \n    this.cart = response.data;\n    \n    });\n  }\n\n  onScroll($event: CustomEvent<ScrollDetail>) {\n    \n    // let title:  HTMLSpanElement = document.querySelector('.content_title');\n    // let subTitle: HTMLSpanElement = document.querySelector('.title_header');\n    let menuSub: HTMLDivElement = document.querySelector('.slide-menu');\n    let ToolSub: HTMLDivElement = document.querySelector('.slide-tool');\n    \n    if ($event && $event.detail && $event.detail.scrollTop) {\n      const scrollTop = $event.detail.scrollTop;\n      this.showToolbar = scrollTop >= 175;\n\n      if (scrollTop >= 175) {\n        menuSub.className = 'slide-menu slide_down_View';\n        ToolSub.className = \"slide-tool scroll animate__animated animate__lightSpeedInRight\";\n      }else {\n        menuSub.className = 'slide-menu';\n        ToolSub.className = \"slide-tool\";\n      }\n    }\n  }\n\n  ScrollTo(div) {\n    let menuSub: HTMLDivElement = document.querySelector('.cate_'+div);\n    let DownY  = menuSub.offsetTop + 210;\n  \n    this.Content.scrollToPoint(0,DownY,300);\n  }\n}\t"],"names":[],"sourceRoot":"webpack:///"}