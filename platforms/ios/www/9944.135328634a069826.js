"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9944],{9944:(P,u,s)=>{s.r(u),s.d(u,{LoginPageModule:()=>y});var m=s(9808),a=s(3075),c=s(3697),n=s(3349),p=s(655),o=s(5e3),f=s(6419),Z=s(4302),h=s(4665),b=s(6741);function T(r,g){1&r&&(o.TgZ(0,"ion-footer",23),o.TgZ(1,"ion-label",24),o._uU(2,"No tienes una cuenta? "),o.TgZ(3,"b"),o._uU(4,"Registrate"),o.qZA(),o.qZA(),o.qZA())}const v=[{path:"",component:(()=>{class r{constructor(i,e,t,d,l,A,x,q){this.route=i,this.server=e,this.toastController=t,this.keyboard=d,this.nav=l,this.loadingController=A,this.events=x,this.fb=q,this.email="",this.password="",this.isLoggedIn=!1,this.users={id:"",name:"",email:"",picture:{data:{url:""}}},this.isKeyboardHide=!0,this.text=JSON.parse(localStorage.getItem("app_text"))}ngOnInit(){this.keyboard.onKeyboardWillShow().subscribe(()=>{this.isKeyboardHide=!1}),this.keyboard.onKeyboardWillHide().subscribe(()=>{this.isKeyboardHide=!0})}login(i){return(0,p.mG)(this,void 0,void 0,function*(){const e=yield this.loadingController.create({message:"Porfavor Espere..."});yield e.present(),this.server.login(i).subscribe(t=>{"done"!=t.msg?this.presentToast(t.msg):(localStorage.setItem("user_id",t.user_id),this.events.publish("user_login",t.user_id),this.nav.navigateRoot("city")),e.dismiss()})})}loginfb(i){return(0,p.mG)(this,void 0,void 0,function*(){const e=yield this.loadingController.create({message:"Porfavor Espere..."});yield e.present(),this.server.loginfb(i).subscribe(t=>{"done"!=t.msg?this.presentToast(t.msg):(localStorage.setItem("user_id",t.user_id),this.events.publish("user_login",t.user_id),this.nav.navigateRoot("city")),e.dismiss()})})}fbLogin(){this.fb.login(["public_profile","email"]).then(i=>{"connected"==i.status&&this.server.signupWithfb("https://graph.facebook.com/me?fields=id,email&access_token="+i.authResponse.accessToken).subscribe(t=>{this.loginfb({email:t.email,password:t.id})})}).catch(i=>{alert("Error logging into Facebook "+i)}),this.fb.logEvent(this.fb.EVENTS.EVENT_NAME_ADDED_TO_CART)}presentToast(i){return(0,p.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:i,duration:3e3,position:"top",mode:"ios",color:"dark"})).present()})}goBck(){this.nav.navigateRoot("welcome")}}return r.\u0275fac=function(i){return new(i||r)(o.Y36(c.gz),o.Y36(f.N),o.Y36(n.yF),o.Y36(Z.N1),o.Y36(n.SH),o.Y36(n.HT),o.Y36(h.n),o.Y36(b.s))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-login"]],decls:48,vars:6,consts:[["transparent","",1,"ion-padding"],[2,"margin-top","15px",3,"ngSubmit"],["form","ngForm"],["size","12",1,"ion-text-center"],[1,"welcome_text",2,"font-family","SF Pro Display"],[2,"color","rgb(82, 82, 82)","font-family","SF Pro Display",";font-weight","400"],["size","4",2,"margin-top","10.5px !important"],["size","8"],["type","email","clearInput","","required","","name","email","placeholder","example@example.com",3,"ngModel","ngModelChange"],["type","password","clearInput","","required","","name","password","placeholder","*********",3,"ngModel","ngModelChange"],["size","12"],["routerLink","/forgot","routerDirection","forward",2,"color","rgb(160, 23, 23) !important","font-family","SF Pro Display",";font-weight","400","float","right"],[1,"row"],["color","primary","expand","block","type","submit",2,"font-family","SF Pro Display","position","relative","text-align","center"],["name","log-in",2,"position","absolute","left","10px","border-right","1px solid #c3c3c3","padding-right","5px"],[1,"capitalize",2,"font-size","14x"],[2,"text-align","center"],[2,"color","rgb(31, 31, 31)","font-family","'SF Pro Display', 'normal'","font-weight","100"],[1,"row",2,"border-top","1px solid #cecece","padding-top","12px"],["expand","block",2,"--background","#3b5998 !important","font-family","SF Pro Display","position","relative","text-align","center",3,"click"],["name","logo-facebook",2,"position","absolute","left","10px","border-right","1px solid #c3c3c3","padding-right","5px"],[1,"capitalize",2,"font-size","14px"],["style","padding: 15px;text-align: center;",4,"ngIf"],[2,"padding","15px","text-align","center"],["color","medium","mode","ios","routerLink","/signup","routerDirection","forward"]],template:function(i,e){if(1&i){const t=o.EpF();o.TgZ(0,"ion-content",0),o.TgZ(1,"form",1,2),o.NdJ("ngSubmit",function(){o.CHM(t);const l=o.MAs(2);return e.login(l.value)}),o.TgZ(3,"ion-row"),o.TgZ(4,"ion-col",3),o.TgZ(5,"h1",4),o._uU(6),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7,"ion-row"),o.TgZ(8,"ion-col",3),o.TgZ(9,"p",5),o._uU(10,"Inicia Sesi\xf3n para continuar"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(11,"ion-row"),o.TgZ(12,"ion-col",6),o.TgZ(13,"span"),o._uU(14,"Email"),o.qZA(),o.qZA(),o.TgZ(15,"ion-col",7),o.TgZ(16,"ion-input",8),o.NdJ("ngModelChange",function(l){return e.email=l}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(17,"ion-row"),o.TgZ(18,"ion-col",6),o.TgZ(19,"span"),o._uU(20,"Password"),o.qZA(),o.qZA(),o.TgZ(21,"ion-col",7),o.TgZ(22,"ion-input",9),o.NdJ("ngModelChange",function(l){return e.password=l}),o.qZA(),o.qZA(),o.qZA(),o._UZ(23,"br"),o.TgZ(24,"ion-row"),o.TgZ(25,"ion-col",10),o.TgZ(26,"a",11),o._uU(27),o.qZA(),o.qZA(),o.qZA(),o._UZ(28,"br"),o.TgZ(29,"div",12),o.TgZ(30,"ion-button",13),o._UZ(31,"ion-icon",14),o.TgZ(32,"span",15),o._uU(33),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(34,"br"),o.TgZ(35,"ion-row"),o.TgZ(36,"ion-col"),o.TgZ(37,"div",16),o.TgZ(38,"small",17),o._uU(39," Con\xe9ctate con "),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(40,"ion-row"),o.TgZ(41,"ion-col"),o.TgZ(42,"div",18),o.TgZ(43,"ion-button",19),o.NdJ("click",function(){return e.fbLogin()}),o._UZ(44,"ion-icon",20),o.TgZ(45,"span",21),o._uU(46,"Facebook"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.YNc(47,T,5,0,"ion-footer",22)}2&i&&(o.xp6(6),o.hij(" ",e.text.login_title," "),o.xp6(10),o.Q6J("ngModel",e.email),o.xp6(6),o.Q6J("ngModel",e.password),o.xp6(5),o.hij(" ",e.text.login_forgot_password," "),o.xp6(6),o.Oqu(e.text.login_button),o.xp6(14),o.Q6J("ngIf",e.isKeyboardHide))},directives:[n.W2,a._Y,a.JL,a.F,n.Nd,n.wI,n.pK,n.j9,a.Q7,a.JJ,a.On,c.yS,n.YI,n.YG,n.gu,m.O5,n.fr,n.Q$,c.rH],styles:[".welcome_text[_ngcontent-%COMP%]{font-family:SF Pro Display;font-weight:900;font-style:normal;letter-spacing:.8px;z-index:100}"]}),r})()}];let y=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[m.ez,a.u5,n.Pc,c.Bz.forChild(v)]]}),r})()}}]);