"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5185],{5185:(v,g,a)=>{a.r(g),a.d(g,{OrderPageModule:()=>O});var s=a(9808),_=a(3075),d=a(3697),i=a(3349),l=a(655),o=a(5e3),Z=a(6419);function p(e,r){if(1&e&&(o.TgZ(0,"ion-row"),o.TgZ(1,"ion-col",9),o._uU(2),o.qZA(),o.TgZ(3,"ion-col",10),o._uU(4),o.qZA(),o.TgZ(5,"ion-col",10),o._uU(6),o.qZA(),o.qZA()),2&e){const t=r.$implicit,n=o.oxw(2).$implicit;o.xp6(2),o.Oqu(t.addon),o.xp6(2),o.Oqu(t.qty),o.xp6(2),o.AsE("",n.currency,"",t.price,"")}}function m(e,r){if(1&e&&(o.TgZ(0,"span"),o.TgZ(1,"ion-row"),o.TgZ(2,"ion-col",9),o._uU(3),o.TgZ(4,"small"),o._uU(5),o.qZA(),o._uU(6,")"),o.qZA(),o.TgZ(7,"ion-col",10),o._uU(8),o.qZA(),o.TgZ(9,"ion-col",10),o._uU(10),o.qZA(),o.qZA(),o.YNc(11,p,7,4,"ion-row",11),o.qZA()),2&e){const t=r.$implicit,n=o.oxw().$implicit;o.xp6(3),o.hij("",t.item," ("),o.xp6(2),o.Oqu(t.type),o.xp6(3),o.Oqu(t.qty),o.xp6(2),o.AsE("",n.currency,"",t.price*t.qty,""),o.xp6(1),o.Q6J("ngForOf",t.addon)}}function x(e,r){if(1&e&&(o.TgZ(0,"ion-button",14),o._uU(1),o.qZA()),2&e){const t=o.oxw().$implicit,n=o.oxw(2);o.MGl("routerLink","/rate/",t.id,"/store"),o.xp6(1),o.hij(" ",n.text.history_rating,"\n")}}function f(e,r){if(1&e){const t=o.EpF();o.TgZ(0,"ion-button",15),o.NdJ("click",function(){o.CHM(t);const c=o.oxw().$implicit;return o.oxw(2).cancelOrder(c.id)}),o._uU(1),o.qZA()}if(2&e){const t=o.oxw(3);o.xp6(1),o.hij(" ",t.text.history_cancel,"\n")}}function h(e,r){if(1&e&&(o.TgZ(0,"ion-card",5),o.TgZ(1,"ion-card-header"),o.TgZ(2,"ion-card-subtitle"),o._uU(3),o.TgZ(4,"ion-badge",6),o._uU(5),o.ALo(6,"currency"),o.qZA(),o.qZA(),o._UZ(7,"br"),o.TgZ(8,"ion-row"),o.TgZ(9,"ion-col",7),o.TgZ(10,"b"),o._uU(11),o.qZA(),o.qZA(),o.TgZ(12,"ion-col",8),o._uU(13),o.qZA(),o.qZA(),o.TgZ(14,"ion-row"),o.TgZ(15,"ion-col",7),o.TgZ(16,"b"),o._uU(17),o.qZA(),o.qZA(),o.TgZ(18,"ion-col",8),o._uU(19),o.qZA(),o.qZA(),o.TgZ(20,"ion-row"),o.TgZ(21,"ion-col",9),o.TgZ(22,"b"),o._uU(23),o.qZA(),o.qZA(),o.TgZ(24,"ion-col",10),o.TgZ(25,"b"),o._uU(26),o.qZA(),o.qZA(),o.TgZ(27,"ion-col",10),o.TgZ(28,"b"),o._uU(29),o.qZA(),o.qZA(),o.qZA(),o.YNc(30,m,12,6,"span",11),o._UZ(31,"br"),o.YNc(32,x,2,2,"ion-button",12),o.YNc(33,f,2,1,"ion-button",13),o.qZA(),o.qZA()),2&e){const t=r.$implicit,n=o.oxw(2);o.xp6(3),o.AsE("",t.store.name," (#",t.id,") "),o.xp6(2),o.Oqu(o.lcZ(6,13,t.total)),o.xp6(6),o.hij(" ",n.text.history_date,""),o.xp6(2),o.Oqu(t.date),o.xp6(4),o.hij(" ",n.text.history_status,""),o.xp6(2),o.Oqu(t.status),o.xp6(4),o.hij(" ",n.text.history_item,""),o.xp6(3),o.hij(" ",n.text.history_qty,""),o.xp6(3),o.hij(" ",n.text.history_price,""),o.xp6(1),o.Q6J("ngForOf",t.items),o.xp6(2),o.Q6J("ngIf",0==t.hasRating||0==t.ratStore),o.xp6(1),o.Q6J("ngIf",0==t.st&&1==t.pay)}}function T(e,r){if(1&e&&(o.TgZ(0,"ion-content"),o.YNc(1,h,34,15,"ion-card",4),o.qZA()),2&e){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",t.data)}}function q(e,r){if(1&e&&(o.TgZ(0,"ion-badge"),o._uU(1),o.qZA()),2&e){const t=o.oxw(2);o.xp6(1),o.Oqu(t.count)}}function A(e,r){if(1&e&&(o.TgZ(0,"ion-footer"),o.TgZ(1,"ion-toolbar",16),o.TgZ(2,"ion-tabs"),o.TgZ(3,"ion-tab-bar",17),o.TgZ(4,"ion-tab-button",18),o._UZ(5,"ion-icon",19),o.TgZ(6,"ion-label"),o._uU(7),o.qZA(),o.qZA(),o.TgZ(8,"ion-tab-button",18),o._UZ(9,"ion-icon",20),o.TgZ(10,"ion-label"),o._uU(11),o.qZA(),o.qZA(),o.TgZ(12,"ion-tab-button",21),o._UZ(13,"ion-icon",22),o.TgZ(14,"ion-label"),o._uU(15),o.qZA(),o.YNc(16,q,2,1,"ion-badge",3),o.qZA(),o.TgZ(17,"ion-tab-button",23),o._UZ(18,"ion-icon",24),o.TgZ(19,"ion-label"),o._uU(20),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const t=o.oxw();o.xp6(7),o.Oqu(t.text.home_footer_name),o.xp6(4),o.Oqu(t.text.home_nearest),o.xp6(4),o.Oqu(t.text.home_cart),o.xp6(1),o.Q6J("ngIf",t.count>0),o.xp6(4),o.Oqu(t.text.home_profile)}}const b=[{path:"",component:(()=>{class e{constructor(t,n,c,u,y,U){this.route=t,this.server=n,this.toastController=c,this.nav=u,this.loadingController=y,this.alertController=U,this.text=JSON.parse(localStorage.getItem("app_text"))}ngOnInit(){}ionViewWillEnter(){localStorage.getItem("user_id")&&"null"!=localStorage.getItem("user_id")?this.loadData():(this.nav.navigateRoot("/login"),this.presentToast("Inicia sesi\xf3n para acceder a tu perfil"))}loadData(){return(0,l.mG)(this,void 0,void 0,function*(){const t=yield this.loadingController.create({message:"Porfavor espere..."});yield t.present();var n=localStorage.getItem("lid")?localStorage.getItem("lid"):0;this.server.myOrder(localStorage.getItem("user_id")+"?lid="+n).subscribe(c=>{console.log(c),this.data=c.data,t.dismiss()})})}rate(){this.nav.navigateForward("/login")}cancelOrder(t){return(0,l.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Cancelar orden!",message:"\xbfEst\xe1s seguro? \xbfQuieres cancelar este pedido?",mode:"ios",buttons:[{text:"No",role:"cancel",cssClass:"secondary",handler:c=>{}},{text:"SI",handler:()=>{this.cnc(t)}}]})).present()})}cnc(t){return(0,l.mG)(this,void 0,void 0,function*(){const n=yield this.loadingController.create({message:"Porfavor espere..."});yield n.present(),this.server.cancelOrder(t,localStorage.getItem("user_id")+"?lid="+localStorage.getItem("lid")).subscribe(c=>{this.data=c.data,this.presentToast("Pedido cancelado con \xe9xito."),n.dismiss()})})}presentToast(t){return(0,l.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:t,duration:3e3,position:"top",mode:"ios",color:"dark"})).present()})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(d.gz),o.Y36(Z.N),o.Y36(i.yF),o.Y36(i.SH),o.Y36(i.HT),o.Y36(i.Br))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-order"]],decls:8,vars:3,consts:[["no-border",""],["color","white"],["slot","start"],[4,"ngIf"],["class","welcome-card","mode","ios",4,"ngFor","ngForOf"],["mode","ios",1,"welcome-card"],["color","primary",2,"float","right"],["size","5"],["size","7"],["size","6"],["size","3"],[4,"ngFor","ngForOf"],["style","font-size: 13px;text-align:center;","fill","outline","size","small","color","primary","routerDirection","forward",3,"routerLink",4,"ngIf"],["style","font-size: 13px;text-align:center;","fill","outline","size","small","style","float: right",3,"click",4,"ngIf"],["fill","outline","size","small","color","primary","routerDirection","forward",2,"font-size","13px","text-align","center",3,"routerLink"],["fill","outline","size","small",2,"float","right",3,"click"],["mode","ios"],["slot","bottom"],["routerLink","/home"],["name","home"],["name","pin"],["routerLink","/cart","routerDirection","forward"],["name","basket"],["routerLink","/profile","routerDirection","forward"],["name","person"]],template:function(t,n){1&t&&(o.TgZ(0,"ion-header",0),o.TgZ(1,"ion-toolbar",1),o.TgZ(2,"ion-buttons",2),o._UZ(3,"ion-back-button"),o.qZA(),o.TgZ(4,"ion-title"),o._uU(5),o.qZA(),o.qZA(),o.qZA(),o.YNc(6,T,2,1,"ion-content",3),o.YNc(7,A,21,5,"ion-footer",3)),2&t&&(o.xp6(5),o.hij(" ",n.text.history_title," "),o.xp6(1),o.Q6J("ngIf",n.data),o.xp6(1),o.Q6J("ngIf",n.text))},directives:[i.Gu,i.sr,i.Sm,i.oU,i.cs,i.wd,s.O5,i.W2,s.sg,i.PM,i.Zi,i.tO,i.yp,i.Nd,i.wI,i.YG,i.YI,d.rH,i.fr,i.UN,i.yq,i.ZU,i.gu,i.Q$],pipes:[s.H9],styles:["ion-row[_ngcontent-%COMP%]{font-size:12px;border-top:1px solid #f7f7f7;padding-top:5px}"]}),e})()}];let O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[s.ez,_.u5,i.Pc,d.Bz.forChild(b)]]}),e})()}}]);